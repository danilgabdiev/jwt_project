# Сервис авторизации на основе JWT

Этот проект представляет собой Spring Boot приложение, обеспечивающее регистрацию пользователей, вход в систему и контроль доступа к ресурсам с помощью JWT (JSON Web Tokens). Поддерживаются три роли — guest, premium_user и admin — с разными правами доступа.

После старта сервиса документация Swagger доступна по адресу http://localhost:8080/swagger-ui/index.html. Весь список API‑эндпоинтов описан в файле openapi/api-contract.yaml, который Swagger использует для отображения интерактивной документации. Чтобы работать с защищёнными методами, сначала зарегистрируйтесь или войдите в систему, получите access-токен и нажмите Authorize в Swagger, вставив полученный токен.

Учётные данные пользователей хранятся в базе данных PostgreSQL, пароли надёжно хэшируются с помощью BCrypt. Liquibase по SQL-скриптам из src/main/resources/db/migrations создаёт необходимые таблицы: users, roles, user_roles и таблицу для отозванных refresh-токенов. Параметры подключения к БД, секрет JWT и другие настройки задаются в application.yml или через переменные окружения.

# Запуск 

Для запуска сервиса через Docker выполните:

```bash
docker-compose up --build
```

После длительного создания образов и запуска контейнеров появляется возможность авторизоваться через swagger и использовать эндпоинты.

Это поднимает контейнеры PostgreSQL и ваше приложение. Альтернативно можно установить PostgreSQL локально, настроить application.yml и запустить сервис командой:
```bash
mvn spring-boot:run
```

Данная архитектура обеспечивает простой и расширяемый фундамент для проектов с JWT‑авторизацией и ролевым разграничением доступа.
